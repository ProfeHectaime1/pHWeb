
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="referrer" content="no-referrer">
    <title>Miniaturas Concepto Integral</title>
    <style>
        :root { 
            --accent: #2ecc71; --gold: #f1c40f; --danger: #ff4757;
            --bg: #0a0a0a; --thumb-size: 250px;
            --border-dynamic: calc(var(--thumb-size) * 0.012);
        }
        
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: white; margin: 0; padding: 0; display: flex; overflow-x: hidden; }
        
        /* Blur background logic */
        #content-wrapper { transition: filter 0.4s cubic-bezier(0.4, 0, 0.2, 1); width: 100%; }
        body.modal-open #content-wrapper { filter: blur(20px) brightness(0.5); pointer-events: none; }

        .home-btn { position: fixed; top: 30px; left: 30px; color: white; opacity: 0.4; transition: 0.3s; z-index: 2000; }
        .home-btn:hover { opacity: 1; color: var(--accent); }

        .size-control { position: fixed; left: -140px; top: 50vh; transform: translateY(-50%) rotate(-90deg); width: 500px; z-index: 1500; }
        .size-control input { cursor: pointer; accent-color: var(--accent); width: 100%; }

        .main-content { padding: 60px 40px 60px 180px; display: flex; flex-direction: column; align-items: center; }

        /* Grid & Cards */
        .version-grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 30px; margin-top: 20px; width: 100%; }
        .card { position: relative; cursor: pointer; border-radius: 12px; width: var(--thumb-size); transition: opacity 0.5s ease, transform 0.3s ease, width 0.1s ease-out; }
        .card img { width: 100%; border-radius: 10px; display: block; background: #111; aspect-ratio: 16/9; object-fit: cover; transition: box-shadow 0.2s; }
        
        /* Interactive States */
        .concept-block.has-winner .card:not(.selected) { opacity: 0.2; }
        .pool-locked .pool-card:not(.selected) { opacity: 0.2; pointer-events: none; }
        .card.hidden { display: none; }
        .card.selected img { box-shadow: 0 0 0 var(--border-dynamic) var(--accent); }
        .tray-card img { box-shadow: 0 0 0 var(--border-dynamic) var(--gold); }

        /* Minimalist UI Icons */
        .zoom-btn, .discard-btn {
            position: absolute; top: 10px; background: rgba(0,0,0,0.5); 
            color: white; border-radius: 50%; width: 30px; height: 30px; 
            display: flex; align-items: center; justify-content: center; opacity: 0; transition: 0.3s; z-index: 100;
            backdrop-filter: blur(8px); border: 1px solid rgba(255,255,255,0.1);
        }
        .zoom-btn { right: 10px; }
        .discard-btn { left: 10px; }
        .discard-btn:hover { background: var(--danger); color: white; }
        .card:hover .zoom-btn, .card:hover .discard-btn { opacity: 1; }
        
        .zoom-btn svg, .discard-btn svg { width: 16px; height: 16px; stroke: currentColor; }

        /* Global Sections */
        .global-section { margin-top: 100px; padding-top: 80px; border-top: 1px solid #222; width: 100%; text-align: center; }
        .global-header { display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 20px; }
        .shuffle-btn { background: none; border: none; cursor: pointer; color: #555; transition: 0.3s; padding: 5px; display: flex; }
        .shuffle-btn:hover { color: white; transform: rotate(45deg); }

        .selection-tray { margin-top: 30px; min-height: 80px; padding: 20px; display: none; gap: 20px; justify-content: center; }

        /* Discarded Drawer */
        .discarded-drawer { margin: 40px auto; width: 100%; max-width: 900px; border-radius: 12px; background: #111; overflow: hidden; border: 1px solid #222; }
        .drawer-header { padding: 15px; cursor: pointer; display: flex; justify-content: center; align-items: center; gap: 10px; color: #666; font-size: 0.9rem; transition: 0.3s; }
        .drawer-header:hover { color: white; background: #161616; }
        .drawer-header svg { width: 16px; transition: 0.3s; }
        .drawer-content { max-height: 0; opacity: 0; transition: all 0.4s ease; display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; overflow: hidden; }
        .drawer-content.open { max-height: 1000px; opacity: 1; padding: 30px; }

        /* Lightbox */
        #lightbox { 
            position: fixed; inset: 0; background: rgba(0,0,0,0.2); 
            display: none; justify-content: center; align-items: center; z-index: 5000; 
        }
        #lightbox.active { display: flex; }
        #lightbox img { max-width: 85%; max-height: 80%; border-radius: 8px; box-shadow: 0 30px 60px rgba(0,0,0,0.8); }

        #submit-btn { display: none; background: var(--accent); color: white; padding: 18px 50px; border-radius: 40px; border: none; cursor: pointer; font-weight: bold; margin: 40px auto; transition: 0.3s; }
        #submit-btn:hover { transform: scale(1.05); box-shadow: 0 0 20px rgba(46, 204, 113, 0.3); }
    </style>
</head>
<body>

    <div id="content-wrapper">
        <a href="../home.html" class="home-btn">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
        </a>

        <div class="size-control"><input type="range" min="150" max="800" value="250" id="globalSlider"></div>

        <div class="main-content">
            <h1>Miniaturas Concepto Integral</h1>
            
            <div id="concepts">
    <div class="concept-block" id="block-2">
        <h2 style="margin-top:60px; opacity:0.3; font-weight:300; font-size: 1.2rem;">Variación 2</h2>
        <div class="version-grid">
            <div class="card" data-id="1SLwxViSkpCsKtgMiQ9lcBfctkYlrPq7D" onclick="toggleConcept('2', '1SLwxViSkpCsKtgMiQ9lcBfctkYlrPq7D', this)">
                <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBMhy5YehPg7IeNmmiBuJURzLUqycIXStCUskVOGeSL_tznYaxTE2C5IGwAJwQC-X-dQ44m2OkVNcopyGfHtlL217dC56U9mNfc1RUmCzpenqII')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                </div>
                <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBMhy5YehPg7IeNmmiBuJURzLUqycIXStCUskVOGeSL_tznYaxTE2C5IGwAJwQC-X-dQ44m2OkVNcopyGfHtlL217dC56U9mNfc1RUmCzpenqII" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBMhy5YehPg7IeNmmiBuJURzLUqycIXStCUskVOGeSL_tznYaxTE2C5IGwAJwQC-X-dQ44m2OkVNcopyGfHtlL217dC56U9mNfc1RUmCzpenqII=s250">
            </div>
            <div class="card" data-id="1HwXJbge7-pE3NqkTEFeqPIQNbD4ETB2h" onclick="toggleConcept('2', '1HwXJbge7-pE3NqkTEFeqPIQNbD4ETB2h', this)">
                <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBO__cDD0tiXACzCXM15YFwXfHJnRtQgEprs58Acx_xSY4eFBiqumdmvZCOarDHbUrjN13ysIvnXDDC0RPQwnHiHTd8-SNh9x8jNTrOhNPac_kc')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                </div>
                <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBO__cDD0tiXACzCXM15YFwXfHJnRtQgEprs58Acx_xSY4eFBiqumdmvZCOarDHbUrjN13ysIvnXDDC0RPQwnHiHTd8-SNh9x8jNTrOhNPac_kc" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBO__cDD0tiXACzCXM15YFwXfHJnRtQgEprs58Acx_xSY4eFBiqumdmvZCOarDHbUrjN13ysIvnXDDC0RPQwnHiHTd8-SNh9x8jNTrOhNPac_kc=s250">
            </div>
            <div class="card" data-id="1pmlnxgLdfyBUhvYTBKHS7mw2v4VaF7NA" onclick="toggleConcept('2', '1pmlnxgLdfyBUhvYTBKHS7mw2v4VaF7NA', this)">
                <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBPfS8JvzAbr74tR4B35W5tixE2rdqidjdF4MVpHeTO2bE4wLxtyrFV5uh3Boa5w5V1M6VuYNIgi7oSyJCIIExNS5VCmjy2gZ9DYJQRlaZ2mIl8')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                </div>
                <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBPfS8JvzAbr74tR4B35W5tixE2rdqidjdF4MVpHeTO2bE4wLxtyrFV5uh3Boa5w5V1M6VuYNIgi7oSyJCIIExNS5VCmjy2gZ9DYJQRlaZ2mIl8" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBPfS8JvzAbr74tR4B35W5tixE2rdqidjdF4MVpHeTO2bE4wLxtyrFV5uh3Boa5w5V1M6VuYNIgi7oSyJCIIExNS5VCmjy2gZ9DYJQRlaZ2mIl8=s250">
            </div>
            <div class="card" data-id="1jP-cL7JKOUykrYSpXI5QWnQxvjJiGjdg" onclick="toggleConcept('2', '1jP-cL7JKOUykrYSpXI5QWnQxvjJiGjdg', this)">
                <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBMsPfR8iC4aRbFYw1EtCNuvqnqSf2sDj7cOZWYlVzutA-h3UK4P0EVhG2Gmbg6epQ1bgYoRdLGcJ5IM-gHn8yfYsh34XaGJef24mKXlgKjPQUc')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                </div>
                <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBMsPfR8iC4aRbFYw1EtCNuvqnqSf2sDj7cOZWYlVzutA-h3UK4P0EVhG2Gmbg6epQ1bgYoRdLGcJ5IM-gHn8yfYsh34XaGJef24mKXlgKjPQUc" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBMsPfR8iC4aRbFYw1EtCNuvqnqSf2sDj7cOZWYlVzutA-h3UK4P0EVhG2Gmbg6epQ1bgYoRdLGcJ5IM-gHn8yfYsh34XaGJef24mKXlgKjPQUc=s250">
            </div>
            <div class="card" data-id="1S4V1etIZiLqOqSb6wxD39iMdA4nTPTdW" onclick="toggleConcept('2', '1S4V1etIZiLqOqSb6wxD39iMdA4nTPTdW', this)">
                <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBMZeNkxxgGaAAPfQLMHU6UXHnHcgB4EK6olj4wtPZztwxYugAY_D202_ZUDJKzPCJknXm-A8gFjrC9GUtz2wuE_kf-QVjfF7I34R8F7_8scIYc')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                </div>
                <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBMZeNkxxgGaAAPfQLMHU6UXHnHcgB4EK6olj4wtPZztwxYugAY_D202_ZUDJKzPCJknXm-A8gFjrC9GUtz2wuE_kf-QVjfF7I34R8F7_8scIYc" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBMZeNkxxgGaAAPfQLMHU6UXHnHcgB4EK6olj4wtPZztwxYugAY_D202_ZUDJKzPCJknXm-A8gFjrC9GUtz2wuE_kf-QVjfF7I34R8F7_8scIYc=s250">
            </div>
            <div class="card" data-id="1QIKUe6K5ZJ3Ygcom0_WSighrv09P38lf" onclick="toggleConcept('2', '1QIKUe6K5ZJ3Ygcom0_WSighrv09P38lf', this)">
                <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBM0ZPcyDCBsopqFQxWVwU8o8_avrlQs_Uxl-pq7JCjeQVxDl9KTWPb5OfvfPg49B0ybGbX00ZMI2pTIKU195R6PpQ8tIfuPqiLsSCfTWHb-2A')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                </div>
                <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBM0ZPcyDCBsopqFQxWVwU8o8_avrlQs_Uxl-pq7JCjeQVxDl9KTWPb5OfvfPg49B0ybGbX00ZMI2pTIKU195R6PpQ8tIfuPqiLsSCfTWHb-2A" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBM0ZPcyDCBsopqFQxWVwU8o8_avrlQs_Uxl-pq7JCjeQVxDl9KTWPb5OfvfPg49B0ybGbX00ZMI2pTIKU195R6PpQ8tIfuPqiLsSCfTWHb-2A=s250">
            </div>
            <div class="card" data-id="15JXrUhjGVK6dZC_LwcPp8TP7IhnApqN7" onclick="toggleConcept('2', '15JXrUhjGVK6dZC_LwcPp8TP7IhnApqN7', this)">
                <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBM-9ihoFVR1vFzCd6K8VIdV7R87ceU9RDJ5eRpiYg3Bd-U9U0KQFeQl-8U8w_wXDjOaDOcD3llJODJkFnL_sRWET4wdUHu-jdnXqJskn-vRqUI')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                </div>
                <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBM-9ihoFVR1vFzCd6K8VIdV7R87ceU9RDJ5eRpiYg3Bd-U9U0KQFeQl-8U8w_wXDjOaDOcD3llJODJkFnL_sRWET4wdUHu-jdnXqJskn-vRqUI" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBM-9ihoFVR1vFzCd6K8VIdV7R87ceU9RDJ5eRpiYg3Bd-U9U0KQFeQl-8U8w_wXDjOaDOcD3llJODJkFnL_sRWET4wdUHu-jdnXqJskn-vRqUI=s250">
            </div></div></div>
    <div class="concept-block" id="block-3">
        <h2 style="margin-top:60px; opacity:0.3; font-weight:300; font-size: 1.2rem;">Variación 3</h2>
        <div class="version-grid">
            <div class="card" data-id="1FzSnc0pZ06beJItC8vq7ea6bpaA4kVr0" onclick="toggleConcept('3', '1FzSnc0pZ06beJItC8vq7ea6bpaA4kVr0', this)">
                <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBP5HpqyGSHfu6cyOUoiffom4zYNul4aaLheI8EdiMPjFb7FXjG-PfebiXDqDaB-u8q-0AMYJ6Zg7PM033iGLqeSIFqLMvjZtKaB_H3XA3To0jw')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                </div>
                <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBP5HpqyGSHfu6cyOUoiffom4zYNul4aaLheI8EdiMPjFb7FXjG-PfebiXDqDaB-u8q-0AMYJ6Zg7PM033iGLqeSIFqLMvjZtKaB_H3XA3To0jw" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBP5HpqyGSHfu6cyOUoiffom4zYNul4aaLheI8EdiMPjFb7FXjG-PfebiXDqDaB-u8q-0AMYJ6Zg7PM033iGLqeSIFqLMvjZtKaB_H3XA3To0jw=s250">
            </div>
            <div class="card" data-id="1g6iDby9Jn3T9yUncSW14s2Y0_WYjEcYU" onclick="toggleConcept('3', '1g6iDby9Jn3T9yUncSW14s2Y0_WYjEcYU', this)">
                <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/u/0/d/1g6iDby9Jn3T9yUncSW14s2Y0_WYjEcYU')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                </div>
                <img class="thumb-img" data-base="https://lh3.googleusercontent.com/u/0/d/1g6iDby9Jn3T9yUncSW14s2Y0_WYjEcYU" src="https://lh3.googleusercontent.com/u/0/d/1g6iDby9Jn3T9yUncSW14s2Y0_WYjEcYU=s250">
            </div>
            <div class="card" data-id="1CGKzQk2a_dHQa30oRSwQ-lZwj0loRgUP" onclick="toggleConcept('3', '1CGKzQk2a_dHQa30oRSwQ-lZwj0loRgUP', this)">
                <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBPmsUjHQ3_GaYZ-EdpfuJlXNF-NLuxeO5nxKGOvo89jCW7p2QNMoMqaVib44wEMrXvsuRkhH0QA6gzgnjcMl2__VcZijjO_gSRbIjl1HyrKvkw')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                </div>
                <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBPmsUjHQ3_GaYZ-EdpfuJlXNF-NLuxeO5nxKGOvo89jCW7p2QNMoMqaVib44wEMrXvsuRkhH0QA6gzgnjcMl2__VcZijjO_gSRbIjl1HyrKvkw" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBPmsUjHQ3_GaYZ-EdpfuJlXNF-NLuxeO5nxKGOvo89jCW7p2QNMoMqaVib44wEMrXvsuRkhH0QA6gzgnjcMl2__VcZijjO_gSRbIjl1HyrKvkw=s250">
            </div>
            <div class="card" data-id="1Wcbwr9IkmeLnkxOM-Wt45m4t6XdJRfnS" onclick="toggleConcept('3', '1Wcbwr9IkmeLnkxOM-Wt45m4t6XdJRfnS', this)">
                <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBPUULFIvZvWRR6uf_ZmKmcDFeaNP9WhenBWhUn9GDz83It53sGVDIoaziht2iwh0UiB3Kpc4OjdJ339KYk6S2K3iUSbOTsIYFnQfKG9NMiOtQA')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                </div>
                <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBPUULFIvZvWRR6uf_ZmKmcDFeaNP9WhenBWhUn9GDz83It53sGVDIoaziht2iwh0UiB3Kpc4OjdJ339KYk6S2K3iUSbOTsIYFnQfKG9NMiOtQA" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBPUULFIvZvWRR6uf_ZmKmcDFeaNP9WhenBWhUn9GDz83It53sGVDIoaziht2iwh0UiB3Kpc4OjdJ339KYk6S2K3iUSbOTsIYFnQfKG9NMiOtQA=s250">
            </div>
            <div class="card" data-id="1RrtWBv7OVssgQQ4IUdSUmwNGPB3aQq8u" onclick="toggleConcept('3', '1RrtWBv7OVssgQQ4IUdSUmwNGPB3aQq8u', this)">
                <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBOwHqlwjgV3RTk3LUd5bglRydEacJdbs3lRS7rAxdjvy8kvEBa9RjP_U51Y1NfMWmLFRmfGgp8EcOOFn6d6QAjC4yHl47eRIEKtgQlnxuj9Iw')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                </div>
                <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBOwHqlwjgV3RTk3LUd5bglRydEacJdbs3lRS7rAxdjvy8kvEBa9RjP_U51Y1NfMWmLFRmfGgp8EcOOFn6d6QAjC4yHl47eRIEKtgQlnxuj9Iw" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBOwHqlwjgV3RTk3LUd5bglRydEacJdbs3lRS7rAxdjvy8kvEBa9RjP_U51Y1NfMWmLFRmfGgp8EcOOFn6d6QAjC4yHl47eRIEKtgQlnxuj9Iw=s250">
            </div></div></div>
    <div class="concept-block" id="block-4">
        <h2 style="margin-top:60px; opacity:0.3; font-weight:300; font-size: 1.2rem;">Variación 4</h2>
        <div class="version-grid">
            <div class="card" data-id="1k4vt--M0x4zXKuLTU8BDDqkuyiQLqqRa" onclick="toggleConcept('4', '1k4vt--M0x4zXKuLTU8BDDqkuyiQLqqRa', this)">
                <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBP7Ow7CFQnOIpdP2gNeygmpA64lgea2c5tKT4o3GoWXmjV9k88ZIZ83OjdnvKHnqyhpUnrK_APjlrinx1lRfs2hJEw6Oqu40u9LRyeDZfeXEfs')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                </div>
                <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBP7Ow7CFQnOIpdP2gNeygmpA64lgea2c5tKT4o3GoWXmjV9k88ZIZ83OjdnvKHnqyhpUnrK_APjlrinx1lRfs2hJEw6Oqu40u9LRyeDZfeXEfs" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBP7Ow7CFQnOIpdP2gNeygmpA64lgea2c5tKT4o3GoWXmjV9k88ZIZ83OjdnvKHnqyhpUnrK_APjlrinx1lRfs2hJEw6Oqu40u9LRyeDZfeXEfs=s250">
            </div>
            <div class="card" data-id="1qHhb0oWjsRjXvohyx-FYCZydq3Q7ya7n" onclick="toggleConcept('4', '1qHhb0oWjsRjXvohyx-FYCZydq3Q7ya7n', this)">
                <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBMsZed1C_6QvbqyCsjZZkA5QT-QCoHdQhmRLAABnfITotHF43kn_WRYRk_QdC7hHivZ1OtIM7ln8Wz-uwGB-iTduyMlxxjOCVeBqpVVGEuue9s')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                </div>
                <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBMsZed1C_6QvbqyCsjZZkA5QT-QCoHdQhmRLAABnfITotHF43kn_WRYRk_QdC7hHivZ1OtIM7ln8Wz-uwGB-iTduyMlxxjOCVeBqpVVGEuue9s" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBMsZed1C_6QvbqyCsjZZkA5QT-QCoHdQhmRLAABnfITotHF43kn_WRYRk_QdC7hHivZ1OtIM7ln8Wz-uwGB-iTduyMlxxjOCVeBqpVVGEuue9s=s250">
            </div>
            <div class="card" data-id="1po5Ac4B1cwmpZrbfwGIYeWlEcu3xkaR9" onclick="toggleConcept('4', '1po5Ac4B1cwmpZrbfwGIYeWlEcu3xkaR9', this)">
                <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBNCgD7y0cIHI4oQXyLsqEbsFxz216I3YKYuMd50Ru3dhZasMo1bxTi8uOwr0O9ZoQ-HUkc2fqqdZfMpFZjDYw4vwaO9b-TFRwrnpHCloC8W7A')">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                </div>
                <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBNCgD7y0cIHI4oQXyLsqEbsFxz216I3YKYuMd50Ru3dhZasMo1bxTi8uOwr0O9ZoQ-HUkc2fqqdZfMpFZjDYw4vwaO9b-TFRwrnpHCloC8W7A" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBNCgD7y0cIHI4oQXyLsqEbsFxz216I3YKYuMd50Ru3dhZasMo1bxTi8uOwr0O9ZoQ-HUkc2fqqdZfMpFZjDYw4vwaO9b-TFRwrnpHCloC8W7A=s250">
            </div></div></div>
            </div>

            <div class="global-section">
                <div class="global-header">
                    <h2 style="color:var(--gold); font-weight:300; margin:0;">Top 3 Global</h2>
                    <button class="shuffle-btn" onclick="shufflePool()" title="Aleatorio">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 3h5v5M4 20L21 3M21 16v5h-5M15 15l6 6M4 4l5 5"/></svg>
                    </button>
                </div>
                
                <div class="version-grid" id="pool">
                    <div class="card pool-card" id="pool-card-1FzSnc0pZ06beJItC8vq7ea6bpaA4kVr0" data-id="1FzSnc0pZ06beJItC8vq7ea6bpaA4kVr0" onclick="addToTop3('1FzSnc0pZ06beJItC8vq7ea6bpaA4kVr0')">
                        <div class="discard-btn" onclick="discardImage(event, '1FzSnc0pZ06beJItC8vq7ea6bpaA4kVr0')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </div>
                        <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBP5HpqyGSHfu6cyOUoiffom4zYNul4aaLheI8EdiMPjFb7FXjG-PfebiXDqDaB-u8q-0AMYJ6Zg7PM033iGLqeSIFqLMvjZtKaB_H3XA3To0jw')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                        </div>
                        <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBP5HpqyGSHfu6cyOUoiffom4zYNul4aaLheI8EdiMPjFb7FXjG-PfebiXDqDaB-u8q-0AMYJ6Zg7PM033iGLqeSIFqLMvjZtKaB_H3XA3To0jw" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBP5HpqyGSHfu6cyOUoiffom4zYNul4aaLheI8EdiMPjFb7FXjG-PfebiXDqDaB-u8q-0AMYJ6Zg7PM033iGLqeSIFqLMvjZtKaB_H3XA3To0jw=s250">
                    </div>
                    <div class="card pool-card" id="pool-card-1g6iDby9Jn3T9yUncSW14s2Y0_WYjEcYU" data-id="1g6iDby9Jn3T9yUncSW14s2Y0_WYjEcYU" onclick="addToTop3('1g6iDby9Jn3T9yUncSW14s2Y0_WYjEcYU')">
                        <div class="discard-btn" onclick="discardImage(event, '1g6iDby9Jn3T9yUncSW14s2Y0_WYjEcYU')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </div>
                        <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/u/0/d/1g6iDby9Jn3T9yUncSW14s2Y0_WYjEcYU')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                        </div>
                        <img class="thumb-img" data-base="https://lh3.googleusercontent.com/u/0/d/1g6iDby9Jn3T9yUncSW14s2Y0_WYjEcYU" src="https://lh3.googleusercontent.com/u/0/d/1g6iDby9Jn3T9yUncSW14s2Y0_WYjEcYU=s250">
                    </div>
                    <div class="card pool-card" id="pool-card-1k4vt--M0x4zXKuLTU8BDDqkuyiQLqqRa" data-id="1k4vt--M0x4zXKuLTU8BDDqkuyiQLqqRa" onclick="addToTop3('1k4vt--M0x4zXKuLTU8BDDqkuyiQLqqRa')">
                        <div class="discard-btn" onclick="discardImage(event, '1k4vt--M0x4zXKuLTU8BDDqkuyiQLqqRa')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </div>
                        <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBP7Ow7CFQnOIpdP2gNeygmpA64lgea2c5tKT4o3GoWXmjV9k88ZIZ83OjdnvKHnqyhpUnrK_APjlrinx1lRfs2hJEw6Oqu40u9LRyeDZfeXEfs')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                        </div>
                        <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBP7Ow7CFQnOIpdP2gNeygmpA64lgea2c5tKT4o3GoWXmjV9k88ZIZ83OjdnvKHnqyhpUnrK_APjlrinx1lRfs2hJEw6Oqu40u9LRyeDZfeXEfs" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBP7Ow7CFQnOIpdP2gNeygmpA64lgea2c5tKT4o3GoWXmjV9k88ZIZ83OjdnvKHnqyhpUnrK_APjlrinx1lRfs2hJEw6Oqu40u9LRyeDZfeXEfs=s250">
                    </div>
                    <div class="card pool-card" id="pool-card-1qHhb0oWjsRjXvohyx-FYCZydq3Q7ya7n" data-id="1qHhb0oWjsRjXvohyx-FYCZydq3Q7ya7n" onclick="addToTop3('1qHhb0oWjsRjXvohyx-FYCZydq3Q7ya7n')">
                        <div class="discard-btn" onclick="discardImage(event, '1qHhb0oWjsRjXvohyx-FYCZydq3Q7ya7n')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </div>
                        <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBMsZed1C_6QvbqyCsjZZkA5QT-QCoHdQhmRLAABnfITotHF43kn_WRYRk_QdC7hHivZ1OtIM7ln8Wz-uwGB-iTduyMlxxjOCVeBqpVVGEuue9s')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                        </div>
                        <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBMsZed1C_6QvbqyCsjZZkA5QT-QCoHdQhmRLAABnfITotHF43kn_WRYRk_QdC7hHivZ1OtIM7ln8Wz-uwGB-iTduyMlxxjOCVeBqpVVGEuue9s" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBMsZed1C_6QvbqyCsjZZkA5QT-QCoHdQhmRLAABnfITotHF43kn_WRYRk_QdC7hHivZ1OtIM7ln8Wz-uwGB-iTduyMlxxjOCVeBqpVVGEuue9s=s250">
                    </div>
                    <div class="card pool-card" id="pool-card-1po5Ac4B1cwmpZrbfwGIYeWlEcu3xkaR9" data-id="1po5Ac4B1cwmpZrbfwGIYeWlEcu3xkaR9" onclick="addToTop3('1po5Ac4B1cwmpZrbfwGIYeWlEcu3xkaR9')">
                        <div class="discard-btn" onclick="discardImage(event, '1po5Ac4B1cwmpZrbfwGIYeWlEcu3xkaR9')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </div>
                        <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBNCgD7y0cIHI4oQXyLsqEbsFxz216I3YKYuMd50Ru3dhZasMo1bxTi8uOwr0O9ZoQ-HUkc2fqqdZfMpFZjDYw4vwaO9b-TFRwrnpHCloC8W7A')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                        </div>
                        <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBNCgD7y0cIHI4oQXyLsqEbsFxz216I3YKYuMd50Ru3dhZasMo1bxTi8uOwr0O9ZoQ-HUkc2fqqdZfMpFZjDYw4vwaO9b-TFRwrnpHCloC8W7A" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBNCgD7y0cIHI4oQXyLsqEbsFxz216I3YKYuMd50Ru3dhZasMo1bxTi8uOwr0O9ZoQ-HUkc2fqqdZfMpFZjDYw4vwaO9b-TFRwrnpHCloC8W7A=s250">
                    </div>
                    <div class="card pool-card" id="pool-card-1CGKzQk2a_dHQa30oRSwQ-lZwj0loRgUP" data-id="1CGKzQk2a_dHQa30oRSwQ-lZwj0loRgUP" onclick="addToTop3('1CGKzQk2a_dHQa30oRSwQ-lZwj0loRgUP')">
                        <div class="discard-btn" onclick="discardImage(event, '1CGKzQk2a_dHQa30oRSwQ-lZwj0loRgUP')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </div>
                        <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBPmsUjHQ3_GaYZ-EdpfuJlXNF-NLuxeO5nxKGOvo89jCW7p2QNMoMqaVib44wEMrXvsuRkhH0QA6gzgnjcMl2__VcZijjO_gSRbIjl1HyrKvkw')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                        </div>
                        <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBPmsUjHQ3_GaYZ-EdpfuJlXNF-NLuxeO5nxKGOvo89jCW7p2QNMoMqaVib44wEMrXvsuRkhH0QA6gzgnjcMl2__VcZijjO_gSRbIjl1HyrKvkw" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBPmsUjHQ3_GaYZ-EdpfuJlXNF-NLuxeO5nxKGOvo89jCW7p2QNMoMqaVib44wEMrXvsuRkhH0QA6gzgnjcMl2__VcZijjO_gSRbIjl1HyrKvkw=s250">
                    </div>
                    <div class="card pool-card" id="pool-card-1Wcbwr9IkmeLnkxOM-Wt45m4t6XdJRfnS" data-id="1Wcbwr9IkmeLnkxOM-Wt45m4t6XdJRfnS" onclick="addToTop3('1Wcbwr9IkmeLnkxOM-Wt45m4t6XdJRfnS')">
                        <div class="discard-btn" onclick="discardImage(event, '1Wcbwr9IkmeLnkxOM-Wt45m4t6XdJRfnS')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </div>
                        <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBPUULFIvZvWRR6uf_ZmKmcDFeaNP9WhenBWhUn9GDz83It53sGVDIoaziht2iwh0UiB3Kpc4OjdJ339KYk6S2K3iUSbOTsIYFnQfKG9NMiOtQA')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                        </div>
                        <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBPUULFIvZvWRR6uf_ZmKmcDFeaNP9WhenBWhUn9GDz83It53sGVDIoaziht2iwh0UiB3Kpc4OjdJ339KYk6S2K3iUSbOTsIYFnQfKG9NMiOtQA" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBPUULFIvZvWRR6uf_ZmKmcDFeaNP9WhenBWhUn9GDz83It53sGVDIoaziht2iwh0UiB3Kpc4OjdJ339KYk6S2K3iUSbOTsIYFnQfKG9NMiOtQA=s250">
                    </div>
                    <div class="card pool-card" id="pool-card-1RrtWBv7OVssgQQ4IUdSUmwNGPB3aQq8u" data-id="1RrtWBv7OVssgQQ4IUdSUmwNGPB3aQq8u" onclick="addToTop3('1RrtWBv7OVssgQQ4IUdSUmwNGPB3aQq8u')">
                        <div class="discard-btn" onclick="discardImage(event, '1RrtWBv7OVssgQQ4IUdSUmwNGPB3aQq8u')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </div>
                        <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBOwHqlwjgV3RTk3LUd5bglRydEacJdbs3lRS7rAxdjvy8kvEBa9RjP_U51Y1NfMWmLFRmfGgp8EcOOFn6d6QAjC4yHl47eRIEKtgQlnxuj9Iw')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                        </div>
                        <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBOwHqlwjgV3RTk3LUd5bglRydEacJdbs3lRS7rAxdjvy8kvEBa9RjP_U51Y1NfMWmLFRmfGgp8EcOOFn6d6QAjC4yHl47eRIEKtgQlnxuj9Iw" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBOwHqlwjgV3RTk3LUd5bglRydEacJdbs3lRS7rAxdjvy8kvEBa9RjP_U51Y1NfMWmLFRmfGgp8EcOOFn6d6QAjC4yHl47eRIEKtgQlnxuj9Iw=s250">
                    </div>
                    <div class="card pool-card" id="pool-card-1SLwxViSkpCsKtgMiQ9lcBfctkYlrPq7D" data-id="1SLwxViSkpCsKtgMiQ9lcBfctkYlrPq7D" onclick="addToTop3('1SLwxViSkpCsKtgMiQ9lcBfctkYlrPq7D')">
                        <div class="discard-btn" onclick="discardImage(event, '1SLwxViSkpCsKtgMiQ9lcBfctkYlrPq7D')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </div>
                        <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBMhy5YehPg7IeNmmiBuJURzLUqycIXStCUskVOGeSL_tznYaxTE2C5IGwAJwQC-X-dQ44m2OkVNcopyGfHtlL217dC56U9mNfc1RUmCzpenqII')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                        </div>
                        <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBMhy5YehPg7IeNmmiBuJURzLUqycIXStCUskVOGeSL_tznYaxTE2C5IGwAJwQC-X-dQ44m2OkVNcopyGfHtlL217dC56U9mNfc1RUmCzpenqII" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBMhy5YehPg7IeNmmiBuJURzLUqycIXStCUskVOGeSL_tznYaxTE2C5IGwAJwQC-X-dQ44m2OkVNcopyGfHtlL217dC56U9mNfc1RUmCzpenqII=s250">
                    </div>
                    <div class="card pool-card" id="pool-card-1HwXJbge7-pE3NqkTEFeqPIQNbD4ETB2h" data-id="1HwXJbge7-pE3NqkTEFeqPIQNbD4ETB2h" onclick="addToTop3('1HwXJbge7-pE3NqkTEFeqPIQNbD4ETB2h')">
                        <div class="discard-btn" onclick="discardImage(event, '1HwXJbge7-pE3NqkTEFeqPIQNbD4ETB2h')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </div>
                        <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBO__cDD0tiXACzCXM15YFwXfHJnRtQgEprs58Acx_xSY4eFBiqumdmvZCOarDHbUrjN13ysIvnXDDC0RPQwnHiHTd8-SNh9x8jNTrOhNPac_kc')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                        </div>
                        <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBO__cDD0tiXACzCXM15YFwXfHJnRtQgEprs58Acx_xSY4eFBiqumdmvZCOarDHbUrjN13ysIvnXDDC0RPQwnHiHTd8-SNh9x8jNTrOhNPac_kc" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBO__cDD0tiXACzCXM15YFwXfHJnRtQgEprs58Acx_xSY4eFBiqumdmvZCOarDHbUrjN13ysIvnXDDC0RPQwnHiHTd8-SNh9x8jNTrOhNPac_kc=s250">
                    </div>
                    <div class="card pool-card" id="pool-card-1pmlnxgLdfyBUhvYTBKHS7mw2v4VaF7NA" data-id="1pmlnxgLdfyBUhvYTBKHS7mw2v4VaF7NA" onclick="addToTop3('1pmlnxgLdfyBUhvYTBKHS7mw2v4VaF7NA')">
                        <div class="discard-btn" onclick="discardImage(event, '1pmlnxgLdfyBUhvYTBKHS7mw2v4VaF7NA')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </div>
                        <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBPfS8JvzAbr74tR4B35W5tixE2rdqidjdF4MVpHeTO2bE4wLxtyrFV5uh3Boa5w5V1M6VuYNIgi7oSyJCIIExNS5VCmjy2gZ9DYJQRlaZ2mIl8')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                        </div>
                        <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBPfS8JvzAbr74tR4B35W5tixE2rdqidjdF4MVpHeTO2bE4wLxtyrFV5uh3Boa5w5V1M6VuYNIgi7oSyJCIIExNS5VCmjy2gZ9DYJQRlaZ2mIl8" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBPfS8JvzAbr74tR4B35W5tixE2rdqidjdF4MVpHeTO2bE4wLxtyrFV5uh3Boa5w5V1M6VuYNIgi7oSyJCIIExNS5VCmjy2gZ9DYJQRlaZ2mIl8=s250">
                    </div>
                    <div class="card pool-card" id="pool-card-1jP-cL7JKOUykrYSpXI5QWnQxvjJiGjdg" data-id="1jP-cL7JKOUykrYSpXI5QWnQxvjJiGjdg" onclick="addToTop3('1jP-cL7JKOUykrYSpXI5QWnQxvjJiGjdg')">
                        <div class="discard-btn" onclick="discardImage(event, '1jP-cL7JKOUykrYSpXI5QWnQxvjJiGjdg')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </div>
                        <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBMsPfR8iC4aRbFYw1EtCNuvqnqSf2sDj7cOZWYlVzutA-h3UK4P0EVhG2Gmbg6epQ1bgYoRdLGcJ5IM-gHn8yfYsh34XaGJef24mKXlgKjPQUc')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                        </div>
                        <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBMsPfR8iC4aRbFYw1EtCNuvqnqSf2sDj7cOZWYlVzutA-h3UK4P0EVhG2Gmbg6epQ1bgYoRdLGcJ5IM-gHn8yfYsh34XaGJef24mKXlgKjPQUc" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBMsPfR8iC4aRbFYw1EtCNuvqnqSf2sDj7cOZWYlVzutA-h3UK4P0EVhG2Gmbg6epQ1bgYoRdLGcJ5IM-gHn8yfYsh34XaGJef24mKXlgKjPQUc=s250">
                    </div>
                    <div class="card pool-card" id="pool-card-1S4V1etIZiLqOqSb6wxD39iMdA4nTPTdW" data-id="1S4V1etIZiLqOqSb6wxD39iMdA4nTPTdW" onclick="addToTop3('1S4V1etIZiLqOqSb6wxD39iMdA4nTPTdW')">
                        <div class="discard-btn" onclick="discardImage(event, '1S4V1etIZiLqOqSb6wxD39iMdA4nTPTdW')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </div>
                        <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBMZeNkxxgGaAAPfQLMHU6UXHnHcgB4EK6olj4wtPZztwxYugAY_D202_ZUDJKzPCJknXm-A8gFjrC9GUtz2wuE_kf-QVjfF7I34R8F7_8scIYc')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                        </div>
                        <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBMZeNkxxgGaAAPfQLMHU6UXHnHcgB4EK6olj4wtPZztwxYugAY_D202_ZUDJKzPCJknXm-A8gFjrC9GUtz2wuE_kf-QVjfF7I34R8F7_8scIYc" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBMZeNkxxgGaAAPfQLMHU6UXHnHcgB4EK6olj4wtPZztwxYugAY_D202_ZUDJKzPCJknXm-A8gFjrC9GUtz2wuE_kf-QVjfF7I34R8F7_8scIYc=s250">
                    </div>
                    <div class="card pool-card" id="pool-card-1QIKUe6K5ZJ3Ygcom0_WSighrv09P38lf" data-id="1QIKUe6K5ZJ3Ygcom0_WSighrv09P38lf" onclick="addToTop3('1QIKUe6K5ZJ3Ygcom0_WSighrv09P38lf')">
                        <div class="discard-btn" onclick="discardImage(event, '1QIKUe6K5ZJ3Ygcom0_WSighrv09P38lf')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </div>
                        <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBM0ZPcyDCBsopqFQxWVwU8o8_avrlQs_Uxl-pq7JCjeQVxDl9KTWPb5OfvfPg49B0ybGbX00ZMI2pTIKU195R6PpQ8tIfuPqiLsSCfTWHb-2A')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                        </div>
                        <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBM0ZPcyDCBsopqFQxWVwU8o8_avrlQs_Uxl-pq7JCjeQVxDl9KTWPb5OfvfPg49B0ybGbX00ZMI2pTIKU195R6PpQ8tIfuPqiLsSCfTWHb-2A" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBM0ZPcyDCBsopqFQxWVwU8o8_avrlQs_Uxl-pq7JCjeQVxDl9KTWPb5OfvfPg49B0ybGbX00ZMI2pTIKU195R6PpQ8tIfuPqiLsSCfTWHb-2A=s250">
                    </div>
                    <div class="card pool-card" id="pool-card-15JXrUhjGVK6dZC_LwcPp8TP7IhnApqN7" data-id="15JXrUhjGVK6dZC_LwcPp8TP7IhnApqN7" onclick="addToTop3('15JXrUhjGVK6dZC_LwcPp8TP7IhnApqN7')">
                        <div class="discard-btn" onclick="discardImage(event, '15JXrUhjGVK6dZC_LwcPp8TP7IhnApqN7')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </div>
                        <div class="zoom-btn" onclick="openZoom(event, 'https://lh3.googleusercontent.com/drive-storage/AJQWtBM-9ihoFVR1vFzCd6K8VIdV7R87ceU9RDJ5eRpiYg3Bd-U9U0KQFeQl-8U8w_wXDjOaDOcD3llJODJkFnL_sRWET4wdUHu-jdnXqJskn-vRqUI')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                        </div>
                        <img class="thumb-img" data-base="https://lh3.googleusercontent.com/drive-storage/AJQWtBM-9ihoFVR1vFzCd6K8VIdV7R87ceU9RDJ5eRpiYg3Bd-U9U0KQFeQl-8U8w_wXDjOaDOcD3llJODJkFnL_sRWET4wdUHu-jdnXqJskn-vRqUI" src="https://lh3.googleusercontent.com/drive-storage/AJQWtBM-9ihoFVR1vFzCd6K8VIdV7R87ceU9RDJ5eRpiYg3Bd-U9U0KQFeQl-8U8w_wXDjOaDOcD3llJODJkFnL_sRWET4wdUHu-jdnXqJskn-vRqUI=s250">
                    </div>
                </div>
                <div class="selection-tray" id="tray"></div>

                <div class="discarded-drawer">
                    <div class="drawer-header" onclick="toggleDrawer()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>
                        <span>Miniaturas Descartadas</span>
                    </div>
                    <div class="drawer-content" id="discarded-pool"></div>
                </div>
            </div>

            <button id="submit-btn" onclick="alert('Selección guardada')">Enviar Selección</button>
        </div>
    </div>

    <div id="lightbox" onclick="closeZoom()">
        <img id="zoomImg" src="">
    </div>

    <script>
        const ratings = { winners: {}, top3: [], discarded: [] };
        const slider = document.getElementById('globalSlider');
        const poolContainer = document.getElementById('pool');

        slider.oninput = (e) => {
            const val = e.target.value;
            document.documentElement.style.setProperty('--thumb-size', val + 'px');
            document.querySelectorAll('.thumb-img').forEach(img => {
                img.src = img.dataset.base + '=s' + val;
            });
        };

        function shufflePool() {
            const cards = Array.from(poolContainer.children);
            for (let i = cards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                poolContainer.appendChild(cards[j]);
            }
        }

        function toggleConcept(cId, imgId, el) {
            const block = document.getElementById('block-'+cId);
            if (el.classList.contains('selected')) {
                el.classList.remove('selected');
                delete ratings.winners[cId];
                block.classList.remove('has-winner');
            } else {
                block.querySelectorAll('.card').forEach(c => c.classList.remove('selected'));
                el.classList.add('selected');
                ratings.winners[cId] = imgId;
                block.classList.add('has-winner');
            }
            updateSubmit();
        }

        function addToTop3(id) {
            if (ratings.top3.length >= 3 || ratings.top3.includes(id)) return;
            ratings.top3.push(id);
            syncPool();
        }

        function discardImage(e, id) {
            e.stopPropagation();
            ratings.discarded.push(id);
            ratings.top3 = ratings.top3.filter(i => i !== id);
            syncPool();
        }

        function recoverImage(id) {
            ratings.discarded = ratings.discarded.filter(i => i !== id);
            syncPool();
        }

        function syncPool() {
            const tray = document.getElementById('tray');
            const discardedPool = document.getElementById('discarded-pool');

            if (ratings.top3.length >= 3) poolContainer.classList.add('pool-locked');
            else poolContainer.classList.remove('pool-locked');

            document.querySelectorAll('.pool-card').forEach(card => {
                const id = card.dataset.id;
                card.classList.toggle('hidden', ratings.top3.includes(id) || ratings.discarded.includes(id));
            });

            tray.innerHTML = ratings.top3.map(id => {
                const baseImg = document.querySelector(`.pool-card[data-id="${id}"] img`);
                return `<div class="card tray-card" onclick="removeTop3('${id}')"><img src="${baseImg.src}"></div>`;
            }).join('');
            tray.style.display = ratings.top3.length > 0 ? 'flex' : 'none';

            discardedPool.innerHTML = ratings.discarded.map(id => {
                const baseImg = document.querySelector(`.pool-card[data-id="${id}"] img`);
                return `<div class="card" style="width:120px" onclick="recoverImage('${id}')"><img src="${baseImg.src}"></div>`;
            }).join('');

            updateSubmit();
        }

        function removeTop3(id) {
            ratings.top3 = ratings.top3.filter(i => i !== id);
            syncPool();
        }

        function toggleDrawer() {
            document.getElementById('discarded-pool').classList.toggle('open');
        }

        function openZoom(e, url) {
            e.stopPropagation();
            document.body.classList.add('modal-open');
            document.getElementById('zoomImg').src = url + '=s1200';
            document.getElementById('lightbox').classList.add('active');
        }

        function closeZoom() {
            document.body.classList.remove('modal-open');
            document.getElementById('lightbox').classList.remove('active');
        }

        function updateSubmit() {
            const hasSel = Object.keys(ratings.winners).length > 0 || ratings.top3.length > 0;
            document.getElementById('submit-btn').style.display = hasSel ? 'block' : 'none';
        }

        window.onload = syncPool;
    </script>
</body>
</html>